#include "COMMON.h"


char str[30]; //显示缓存
extern u8 _return;

extern uchar cfr2[4]; //cfr2控制字
extern uchar cfr1[4]; //cfr1控制字

uint16_t SweepMinFre = 100000000;
uint16_t SweepStepFre = 5;
uint16_t count1 = 1;

int main()
{

	Init_ad9910();
	//Freq_convert(SweepMinFre + SweepStepFre*count1);

	print("AD9910 is ready\r\n");

	while(1)
	{

		cfr1[0] = 0x00;		 //RAM 失能
		cfr2[1] = 0x00;		 //DRG 失能
		Txcfr();			 //发送cfrx控制字
		Amp_convert(600);	//写幅度，输入范围：1-650 mV
		Freq_convert(200000000); //写频率，输入范围：1-400 000 000Hz

		///PS_GPIO_SetPort(PROFILE1, 0);

	//	Amp_convert(600);				   //写幅度，输入范围：1-650 mV
												   //扫频波下限频率，上限频率，频率步进（单位：Hz），步进时间间隔（单位：us）
	//	SweepFre(16000000, 240000000, 80000 , 1000); //步进时间范围：4*(1~65536)ns

		//Square_wave(2000000); //方波，采样时间间隔输入范围：4*(1~65536)ns

		//Sawtooth_wave(2000000);
		print("program is prossing\r\n");
	}
	return 0;
}
